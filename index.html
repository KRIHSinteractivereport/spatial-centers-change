<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8" />
    <title>êµ­í† ê³µê°„ê±°ì ì§€ë„ ë³€í™” ë³´ê¸°</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- ============================
         ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ (CDN ë°©ì‹ ë¡œë“œ)
         - Leaflet (ì§€ë„)
         - PapaParse (CSV íŒŒì‹±)
         - Google Fonts (í°íŠ¸ & ì•„ì´ì½˜)
       ============================ -->
    <!-- Leaflet CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
    />
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
    <!-- Leaflet Side-by-Side í”ŒëŸ¬ê·¸ì¸ (ë¡œì»¬ íŒŒì¼) -->
    <script src="leaflet-side-by-side.js"></script>
    <!-- PapaParse: CSV íŒŒì‹± ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    <!-- Google Fonts: Noto Sans KR í°íŠ¸ ë° Material Icons -->
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />

    <!-- ============================
         ë‚´ë¶€ ìŠ¤íƒ€ì¼ ì •ë¦¬
       ============================ -->
    <style>
        /* ê¸°ë³¸ body ì„¤ì • */
        body {
            margin: 0;
            padding: 0 40px;
            font-family: 'Noto Sans KR', sans-serif;
            background: white;
            color: #333;
            text-align: center;
        }

        /* ì§€ë„ ì»¨í…Œì´ë„ˆ */
        #map {
            width: 80%;
            height: 800px;
            margin: 10px auto 5px auto;
            border: 1px solid #ccc;
            position: relative;
        }

        /* ê¹œë¹¡ì„ íš¨ê³¼ìš© glow í´ë˜ìŠ¤ */
        .glow-effect {
            filter: drop-shadow(0 0 1px #ffffcc);
        }

        /* ë²”ë¡€ ë°” (ì¤‘ì‹¬ì§€ ìœ í˜• ìƒ‰ìƒ + ë¶ˆíˆ¬ëª…ë„ ìŠ¬ë¼ì´ë”) */
        .legend-bar {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            margin: 40px auto 5px auto;
            padding: 10px 20px;
            width: 78%;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }

        /* ë²”ë¡€ ì•„ì´í…œ (ìƒ‰ìƒ ë°•ìŠ¤ + ë¼ë²¨) */
        .legend-items {
            display: flex;
            gap: 12px;
            align-items: center;
        }
        .legend-items div {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 16px;
        }
        .legend-items span {
            width: 18px;
            height: 18px;
            display: inline-block;
            border-radius: 4px;
        }

        /* ìŠ¬ë¼ì´ë” ì»¨íŠ¸ë¡¤ ì˜ì—­ */
        .opacity-control {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .opacity-control input[type="range"] {
            width: 120px;
        }

        /* ì§€ë„ ìœ„ ê³ ì • ë¼ë²¨ (2021 vs 2023) */
        .map-label {
            position: absolute;
            top: 20px;
            padding: 6px 12px;
            background: rgba(0, 0, 0, 0.4);
            color: white;
            font-size: 14px;
            border-radius: 4px;
            pointer-events: none;
            z-index: 1000;
        }
        .label-left { left: 20px; }
        .label-right { right: 20px; }

        /* ëŒ€ìƒì§€ì—­ ì„ íƒ UI (ì‹œë„/ì‹œêµ°êµ¬ + ë²„íŠ¼) */
        .SelectRow {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            align-items: center;
            justify-content: center;
        }
        .SelectRow label {
            font-size: 16px;
            font-weight: 500;
        }
        .SelectRow select {
            padding: 8px 12px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 8px;
            background: #ffffff;
            min-width: 180px;
            transition: border-color 0.3s;
        }
        .SelectRow select:focus {
            border-color: #4CAF50;
            outline: none;
        }
        .SelectRow button {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 10px 20px;
            font-size: 16px;
            font-weight: 600;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
        }
        /* í™•ì¸í•˜ê¸° ë²„íŠ¼ */
        #searchBtn {
            background-color: #4CAF50;
            color: white;
        }
        #searchBtn:hover {
            background-color: #43A047;
        }
        /* ë¶„ì„ê¸°ì¤€ ë²„íŠ¼ */
        #analysisBtn {
            background-color: #E0E0E0;
            color: #333;
        }
        #analysisBtn:hover {
            background-color: #BDBDBD;
        }

        /* ê²°ê³¼ í…Œì´ë¸” ì»¨í…Œì´ë„ˆ */
        #resultTable {
        width: 77%;
        /* â†“ ì•„ë˜ìª½ ì—¬ë°±ì„ 0ìœ¼ë¡œ í•´ì„œ, íƒ­ ë°”ì™€ ë°”ë¡œ ë¶™ë„ë¡ í•©ë‹ˆë‹¤. */
        margin: 20px auto 0 auto;

        background: #fff;
        padding: 20px;

        /* â†“ â€œìœ„ìª½ë§Œ ë‘¥ê¸€ê²Œ, ì•„ë˜ìª½ì€ ì§ì„ â€ìœ¼ë¡œ ì²˜ë¦¬ */
        border-radius: 12px 12px 0 0;

        /* â†“ ì „ì²´ í…Œë‘ë¦¬ë¥¼ ì£¼ë˜, ì•„ë˜ìª½ í…Œë‘ë¦¬ë§Œ ì œê±° */
        border: 1px solid #ccc;
        border-bottom: none;

        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        overflow-x: auto;
    }
        #resultTable table {
            width: 100%;
            border-collapse: collapse;
            font-size: 16px;
        }
        #resultTable th, #resultTable td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: center;
        }
        #resultTable th {
            background-color: #f5f7fa;
            font-weight: 700;
        }
        #resultTable tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        #resultTable tr:hover {
            background-color: #f1f1f1;
        }

        /* Side-by-Side ìŠ¬ë¼ì´ë” ë§‰ëŒ€ ìŠ¤íƒ€ì¼ (í°ìƒ‰ glow) */
        .leaflet-sbs-divider {
            background-color: #FFFFFF;
            width: 8px;
            border-radius: 4px;
            cursor: ew-resize;
            box-shadow: 0 0 12px rgba(255, 255, 255, 0.8);
        }

        /* í—¤ë” ì˜ì—­ (ë¡œê³  + ì œëª©) */
        header {
            background: white;
            padding: 25px 40px;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        header img {
            height: 80px;
            margin-right: 20px;
        }
        header h1 {
            margin: 0;
            font-size: 28px;
            font-weight: 700;
            color: #333;
        }
        header p {
            margin: 5px 0 0 0;
            font-size: 16px;
            color: #666;
        }

        /* ì„¹ì…˜ (ë“¤ì–´ê°€ê¸°ì— ì•ì„œ / ì¤‘ì‹¬ì§€ ì„¤ëª… ë“±) */
        .section {
            margin: 80px auto;
            max-width: 1000px;
            line-height: 2.5;
            text-align: center;
        }

        /* êµ¬ë¶„ì„  ìŠ¤íƒ€ì¼ */
        .divider {
            border: none;
            border-top: 1px solid #ccc;
            width: 55%;
            margin: 60px auto;
        }

        /* Side-by-Side ìŠ¬ë¼ì´ë” ë ˆì¸ì§€ ìœ„ì¹˜ ì¡°ì • */
        .leaflet-sbs-range {
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            transform: translateY(-50%);
            pointer-events: auto;
            z-index: 999;
        }


        
        /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        (A) í¬ë¡œìŠ¤íƒ­ í…Œì´ë¸”ìš© ê¸°ë³¸ ìŠ¤íƒ€ì¼
        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .crossTab-table {
            width: 100%;
            table-layout: fixed;   /* ì—´ ë„ˆë¹„ë¥¼ ê· ë“± ë¶„ë°° */
            border-collapse: collapse;
            font-size: 15px;
        }

        /* (B) í—¤ë” ì…€ ì „ì²´ ë™ì¼ íŒ¨ë”© + ì¤‘ì•™ ì •ë ¬ */
        .crossTab-table th {
            position: relative;       /* SVG, í…ìŠ¤íŠ¸ ì ˆëŒ€ ìœ„ì¹˜ë¥¼ ìœ„í•´ í•„ìš” */
            padding: 20px;            /* ëª¨ë“  ì…€(í—¤ë”/ë°ì´í„°)ì— ë™ì¼í•˜ê²Œ ì§€ì • */
            text-align: center;
            border: 1px solid #ddd;
            background: #f5f7fa;
            /* ë†’ì´ ê³ ì •í•˜ì§€ ì•ŠìŒ â†’ ë‚´ìš©+paddingì— ë”°ë¼ ìë™ ë†’ì´ */
        }

        /* (C) ì¸ë±ìŠ¤ ì—´(ì²« ë²ˆì§¸ ì—´) ë°°ê²½ìƒ‰ë§Œ í—¤ë”ì™€ ë™ì¼, íŒ¨ë”©/ë†’ì´ëŠ” ê·¸ëŒ€ë¡œ */
        .crossTab-table td:first-child {
            background: #f5f7fa;
            font-weight: 600;
            padding: 20px;            /* í—¤ë”ì™€ ê°™ì€ íŒ¨ë”© ìœ ì§€ */
            text-align: center;
            border: 1px solid #ddd;
        }

        /* (D) ì¼ë°˜ ë°ì´í„° ì…€ ì „ì²´ ì¤‘ì•™ ì •ë ¬ + ë™ì¼ íŒ¨ë”© */
        .crossTab-table td {
            padding: 20px;            /* ëª¨ë“  ì…€ì— ë™ì¼ íŒ¨ë”© */
            text-align: center;       /* ìˆ«ì/í…ìŠ¤íŠ¸ ê°€ë¡œ ì¤‘ì•™ ì •ë ¬ */
            border: 1px solid #ddd;
            /* ë†’ì´ ê³ ì •í•˜ì§€ ì•ŠìŒ â†’ ë‚´ìš©+paddingì— ë”°ë¼ ìë™ ë†’ì´ */
        }

        /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            (E) ëŒ€ê°ì„  SVG í—¤ë” ì…€ (paddingë§Œ ë™ì¼í•˜ê²Œ ì£¼ê³ , height ê³ ì • X)
        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .crossTab-table th.diag-header {
            /* width, heightë¥¼ ì§€ì •í•˜ì§€ ì•ŠìŒ */
            padding: 10px;            /* ì¼ë°˜ í—¤ë”ì™€ ê°™ì€ íŒ¨ë”© */
            background: #f5f7fa;
            /* position: relative ëŠ” ë¶€ëª¨ì¸ .crossTab-table thì—ì„œ ì´ë¯¸ ì„¤ì •ë¨ */
        }

        /* SVGê°€ ì…€ ë†’ì´+íŒ¨ë”©ì„ ìë™ìœ¼ë¡œ ì±„ìš°ë„ë¡ ì ˆëŒ€ ìœ„ì¹˜ ì§€ì • */
        .crossTab-table th.diag-header svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;             /* th ë†’ì´+íŒ¨ë”© ì „ì²´ë¥¼ ë®ìŒ */
            display: block;
        }

        /* ëŒ€ê°ì„  ìœ„ìª½ í…ìŠ¤íŠ¸(2023ë…„) */
        .crossTab-table .diag-text-top {
            position: absolute;
            top: 10px;       /* íŒ¨ë”©(10px)ë§Œí¼ ì‚´ì§ ì•„ë˜ë¡œ ë‚´ë ¤ì„œ, í…ìŠ¤íŠ¸ê°€ ì˜ë¦¬ì§€ ì•Šë„ë¡ */
            right: 8px;      /* ì˜¤ë¥¸ìª½ ì—¬ë°± */
            font-size: 14px;
            color: #333;
            white-space: nowrap;
        }

        /* ëŒ€ê°ì„  ì•„ë˜ìª½ í…ìŠ¤íŠ¸(2021ë…„) */
        .crossTab-table .diag-text-bottom {
            position: absolute;
            bottom: 10px;    /* íŒ¨ë”©(10px)ë§Œí¼ ìœ„ë¡œ ì˜¬ë ¤ì„œ, í…ìŠ¤íŠ¸ê°€ ì˜ë¦¬ì§€ ì•Šë„ë¡ */
            left: 8px;       /* ì™¼ìª½ ì—¬ë°± */
            font-size: 14px;
            color: #333;
            white-space: nowrap;
        }

        /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        main table CSS
        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

        .main-table {
            width: 100%;
            border-collapse: collapse;
            table-layout: fixed;
            font-size: 15px;
        }
        .main-table th {
            padding: 20px;
            text-align: center;
            border: 1px solid #ddd;
            background: #f5f7fa;   /* ì›í•˜ëŠ” ìƒ‰ê¹”ë¡œ ë°”ê¿”ë„ ë¨ */
        }
        .main-table td {
            padding: 20px;
            text-align: center;
            border: 1px solid #ddd;
        }
        .main-table tr:nth-child(even) {
            background: #f9f9f9;
        }
        .main-table tr:hover {
            background: #f1f1f1;
        }

        /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        íƒ­ ì¸í„°í˜ì´ìŠ¤ìš© CSS (ì¶”ê°€)
        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .tabs.tabs-bottom {
            display: flex;
            justify-content: center;
            width: 77%;               /* ì½˜í…ì¸ ì™€ ë™ì¼í•œ ë„ˆë¹„ */
            margin: 0 auto;           /* íƒ­ ë°”ë¥¼ ê°€ë¡œ ì¤‘ì•™ì— ë°°ì¹˜ */
            /* â–¼ íƒ­ ë°” ìì²´ì—ë„ ìœ„ìª½ ê²½ê³„ì„ ì´ í•„ìš”í•©ë‹ˆë‹¤. */
            border-top: 2px solid #ccc;
            background: transparent;  /* íˆ¬ëª… ë°°ê²½ â€“ ì½˜í…ì¸ ì™€ ë§ë‹¿ë„ë¡ */
            /* (ê¸°ì¡´ì— border-bottomì´ì—ˆìœ¼ë‚˜, ì½˜í…ì¸  ìœ„ì— íƒ­ì´ ì˜¤ê¸° ë•Œë¬¸ì— border-topìœ¼ë¡œ ë³€ê²½) */
        }

        .tabs-bottom .tab {
            background: #fff;
            border: 1px solid #ccc;
            /* â–¼ íƒ­ì€ ì´ì œ â€œìœ„ìª½ ê²½ê³„ì„ â€ì´ ì—†ì–´ì•¼, ì½˜í…ì¸ ê°€ ì•„ë˜ì—ì„œ ë°”ë¡œ ë¶™ì–´ ë³´ì…ë‹ˆë‹¤. */
            border-top: none;
            /* â–¼ â€œì•„ë˜ìª½ ê²½ê³„ì„ â€ë§Œ íšŒìƒ‰ìœ¼ë¡œ ë‘ì–´, íƒ­ ë°” ë°”ë‹¥ì´ íŠ€ì–´ë‚˜ì˜¨ í˜•íƒœì²˜ëŸ¼ ë³´ì´ê²Œ */
            border-bottom: 2px solid #ccc;
            /* â–¼ íƒ­ ëª¨ì„œë¦¬ëŠ” ì•„ë˜ìª½ ëª¨ì„œë¦¬ë§Œ ë‘¥ê¸€ê²Œ, ìƒë‹¨ì€ ì§ì„  */
            border-radius: 0 0 8px 8px;
            margin-right: 5px;
            font-weight: 500;
            padding: 12px 28px;
            cursor: pointer;
            z-index: 1;
            box-sizing: border-box;
        }

        .tabs-bottom .tab:last-child {
            margin-right: 0;
        }

        .tabs-bottom .tab.active {
            /* â–¼ í™œì„± íƒ­ì€ â€œì•„ë˜ ê²½ê³„â€ë¥¼ ê°•ì¡°ìƒ‰(ë…¹ìƒ‰)ìœ¼ë¡œ ë°”ê¿”ì„œ ëˆˆì— ë„ê²Œ í•¨ */
            border-bottom: 2.5px solid #4CAF50;
            /* â–¼ ì½˜í…ì¸ ì™€ ì´ì–´ë¶™ì¼ ë•Œ, íƒ­ ìƒë‹¨ê²½ê³„ë¥¼ í°ìƒ‰ìœ¼ë¡œ ë§Œë“¤ì–´ ê²½ê³„ê°€ ê²¹ì¹˜ì§€ ì•Šë„ë¡ í•¨ */
            border-top: 1px solid #fff;
            background: #fff;
            z-index: 2;
            /* â–¼ í™œì„± íƒ­ì„ ì‚´ì§ ë“¤ì–´ì˜¬ë ¤ ì½˜í…ì¸ ì™€ ì—°ê²°ë¶€ë¥¼ ìì—°ìŠ¤ëŸ½ê²Œ ë³´ì´ê²Œ */
            /*    ì˜ˆ: ì½˜í…ì¸  ì•„ë˜ì—ì„œ íƒ­ì´ ì‚´ì§ ì˜¬ë¼ì˜¨ ê²ƒì²˜ëŸ¼ ë³´ì…ë‹ˆë‹¤. */
            bottom: 2px;
            position: relative;
        }

        .content {
            width: 77%;
            margin: 0 auto 0px auto; /* íƒ­ê³¼ ì½˜í…ì¸  ì‚¬ì´ì— ì¶©ë¶„í•œ ê³µê°„ */
            background: #fff;
            border: 1px solid #ccc;
            border-radius: 12px 12px 0 0;
            /* â–¼ ì½˜í…ì¸  í•˜ë‹¨ ê²½ê³„ë¥¼ ì—†ì•°(íƒ­ ë°”ì™€ ë¶™ì–´ì•¼ í•˜ë¯€ë¡œ). */
            border: 1px solid #ccc;
            border-bottom: none;
            padding: 24px;
            box-sizing: border-box;
            display: none; /* íƒ­ ì „í™˜ ì‹œì— .activeë¥¼ ë¶™ì´ë©´ ë³´ì´ë„ë¡ */
        }
        .content.active {
            display: block;
        }

        @import url('https://fonts.googleapis.com/css2?family=Nanum+Pen+Script&display=swap');
        .hand-note {
        font-family: 'Nanum Pen Script', cursive, 'Noto Sans KR', sans-serif;
        font-size: 24px;
        margin: 36px auto 0 auto;
        position: relative;
        text-align: center;
        }
        /* ì´ ë¶€ë¶„ì´ í•µì‹¬! */
        .hand-note.active .blink-text {
        animation: blinkText 2s linear 1;
        }
        @keyframes blinkText {
        0%   { opacity: 1;   }
        20%  { opacity: 0.2; }
        40%  { opacity: 1;   }
        60%  { opacity: 0.2; }
        80%  { opacity: 1;   }
        100% { opacity: 1;   }
        }
        /* (1) ì´ˆê¸°ì—ëŠ” ì•„ë˜ìª½+íˆ¬ëª… ìƒíƒœ */
        .appear-bottom {
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 1.3s cubic-bezier(.33,.77,.36,1.01), transform 0.7s cubic-bezier(.33,.77,.36,1.01);
        }

        /* (2) show í´ë˜ìŠ¤ê°€ ë¶™ìœ¼ë©´ ì ì  ì„ ëª…+ì •ìœ„ì¹˜ë¡œ */
        .appear-bottom.show {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>

<body>
    <!-- ============================
         í—¤ë”: ë¡œê³  + ì œëª© + ë¶€ì œëª© + í•´ì‹œíƒœê·¸
       ============================ -->
    <header>
        <img src="img/logo_krihs.png" alt="KRIHS logo" />

        <div style="text-align: left;">
            <div style="display: flex; align-items: baseline; gap: 12px;">
                <h1 style="margin: 0; font-size: 28px; font-weight: 700; color: #333;">
                    KRIHS ì¸í„°ë™í‹°ë¸Œ ë¦¬í¬íŠ¸
                </h1>
                <h2 style="margin: 0; font-size: 18px; font-weight: 600; color: #4CAF50;">
                    : êµ­í† ê³µê°„ê±°ì ì§€ë„ ë³€í™” ë³´ê¸°
                </h2>
            </div>
            <p style="margin: 6px 0 0 0; font-size: 15px; color: #666;">
                ë³¸ í˜ì´ì§€ëŠ” 2021ë…„ê³¼ 2023ë…„ êµ­í† ê³µê°„ê±°ì ì§€ë„ì˜ ë³€í™” ì–‘ìƒì„
                ì§ê´€ì ìœ¼ë¡œ ë¹„êµí•  ìˆ˜ ìˆë„ë¡ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.<br />
                ì•„ë˜ ì§€ë„ì—ì„œ ìŠ¬ë¼ì´ë”ë¥¼ ì›€ì§ì´ë©° ë‘ ì‹œì ì˜ ì§€ë„ë¥¼ ë¹„êµí•´ë³´ì„¸ìš”.
            </p>
            <div style="margin-top: 10px; font-size: 14px; color: #999;">
                # ê³µê°„êµ¬ì¡° # ì¤‘ì‹¬ì§€ # ì¸í„°ë™í‹°ë¸Œë¦¬í¬íŠ¸
            </div>
        </div>
    </header>

    <!-- ============================
         "ë“¤ì–´ê°€ê¸°ì— ì•ì„œ" ì„¹ì…˜
       ============================ -->
    <div class="section">
        <h2 style="font-size: 24px; margin-bottom: 12px; color: #333;">
            ë“¤ì–´ê°€ê¸°ì— ì•ì„œ
        </h2>
        <div
          style="font-size: 16px; color: #444; line-height: 1.6; max-width: 100%; text-align: center;"
        >
            ë³¸ í˜ì´ì§€ëŠ” KRIHS ì¸í„°ë™í‹°ë¸Œ ë¦¬í¬íŠ¸ <strong>â€˜í•œëˆˆì— ë³´ëŠ” êµ­í† ê³µê°„ê±°ì â€™</strong> ì½˜í…ì¸  ì¼ë¶€ë¥¼ ê¸°ë°˜ìœ¼ë¡œ,<br />
            <strong>ì¤‘ì‹¬ì§€ ë³€í™” ë¹„êµ</strong>ì— ì´ˆì ì„ ë§ì¶° êµ¬ì„±í•œ í™•ì¥í˜• í˜ì´ì§€ì„ì„ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤.<br />
            ë³´ë‹¤ ìƒì„¸í•œ ê¸°íš ì˜ë„ì™€ ë¶„ì„ ê³¼ì •ì€ ì•„ë˜ í˜ì´ì§€ì™€ ë¦¬í¬íŠ¸ì—ì„œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        </div>

        <!-- ì•„ì´ì½˜ ê·¸ë£¹: ë³´ê³ ì„œ ë‹¤ìš´ë¡œë“œ + ì¸í„°ë™í‹°ë¸Œ í˜ì´ì§€ ë§í¬ -->
        <div style="margin-top: 24px; display: flex; justify-content: center; gap: 28px;">
            <!-- ë³´ê³ ì„œ ë‹¤ìš´ë¡œë“œ -->
            <a
              href="report\êµ­í† ì—°êµ¬ì›_2024 êµ­í† ëª¨ë‹ˆí„°ë§ í™œìš©ê°€ì´ë“œ_ë°°í¬ìš© ìµœì¢….pdf"
              target="_blank"
              title="ë³´ê³ ì„œ ë‹¤ìš´ë¡œë“œ"
              style="color: #4CAF50; text-decoration: none;"
            >
                <div style="display: flex; flex-direction: column; align-items: center; gap: 6px;">
                    <span class="material-icons" style="font-size: 32px;">description</span>
                    <span style="font-size: 13px; color: #333;">ë³´ê³ ì„œ ë‹¤ìš´ë¡œë“œ</span>
                </div>
            </a>

            <!-- ì›ë³¸ ì¸í„°ë™í‹°ë¸Œ ë¦¬í¬íŠ¸ ë§í¬ -->
            <a
              href="https://interactive.krihs.re.kr/interactive/"
              target="_blank"
              title="ì›ë³¸ ì¸í„°ë™í‹°ë¸Œ í˜ì´ì§€"
              style="color: #43A047; text-decoration: none;"
            >
                <div style="display: flex; flex-direction: column; align-items: center; gap: 6px;">
                    <span class="material-icons" style="font-size: 32px;">travel_explore</span>
                    <span style="font-size: 13px; color: #333;">ì¸í„°ë™í‹°ë¸Œ ë¦¬í¬íŠ¸</span>
                </div>
            </a>
        </div>
    </div>

    <hr class="divider" />

    <!-- ============================
         'êµ­í† ê³µê°„ê±°ì ì§€ë„ë€?' ì„¤ëª… ì˜ì—­
       ============================ -->
    <h2 style="font-size: 24px; margin-bottom: 25px; color: #4CAF50;">
        êµ­í† ê³µê°„ê±°ì ì§€ë„ë€?
    </h2>
    <p style="font-size: 16px; color: #555;">
        'êµ­í† ê³µê°„ê±°ì ì§€ë„'ëŠ” <strong>ì¤‘ì‹¬ì§€ ìœ í˜• ë¶„ì„</strong>ì„ í†µí•´ êµ­í† ì˜ ê³µê°„êµ¬ì¡°ë¥¼ ë°”ë¼ë³¸ ê²°ê³¼ë¡œ,<br />
        êµ­í† ì„±ì¥ì˜ í•µì‹¬ ê±°ì ì¸ ì¤‘ì‹¬ì§€ëŠ” ìš°ë¦¬ êµ­í† ì˜ ê³µê°„êµ¬ì¡°ë¥¼ ì´í•´í•˜ê³  ê³„íší•˜ëŠ” ë° ì¤‘ìš”í•œ ê¸°ì¤€ì´ ë©ë‹ˆë‹¤.<br /><br />
        ì „êµ­ ì¤‘ì‹¬ì§€ì˜ ìœ„ì¹˜ì™€ íŠ¹ì„±ì„ ë§ˆì´í¬ë¡œ ë‹¨ìœ„ ê³µê°„ì—ì„œ ì •ë°€í•˜ê²Œ íŒŒì•…í•˜ì—¬ ê³µê°„êµ¬ì¡°ì˜ íŠ¹ì§•ê³¼ ë³€í™”ë¥¼ í¬ì°©í•œë‹¤ë©´<br />
        ì¤‘ì‹¬ì§€ ìœ í˜• ë¶„ì„ì„ í†µí•œ êµ­í† ê³µê°„êµ¬ì¡°ì˜ ì²´ê³„ì  ê´€ë¦¬ë¥¼ ì§€ì›í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.<br /><br />
        ì´ì— ë³¸ ë¦¬í¬íŠ¸ì—ì„œëŠ” ì „êµ­ì˜ 1km ê²©ìë¥¼ ë¶„ì„ ë‹¨ìœ„ë¡œ, 2021ë…„ê³¼ 2023ë…„ ë‘ ì‹œì ì„ ëŒ€ìƒìœ¼ë¡œ í•˜ëŠ”<br />
        <strong>ì¤‘ì‹¬ì§€ ìœ í˜• ë¶„ì„</strong>ì„ ì§„í–‰í•˜ê³  êµ­í† ê³µê°„ê±°ì ì§€ë„ ìƒì— ë‚˜íƒ€ë‚´ì—ˆìŠµë‹ˆë‹¤.
    </p>

    <hr class="divider" />

    <!-- ============================
         'ì¤‘ì‹¬ì§€ ìœ í˜• ë¶„ë¥˜' ì• ë‹ˆë©”ì´ì…˜ ë¸”ë¡
       ============================ -->
    <h2 style="font-size: 24px; margin-top: 30px; color: #4CAF50;">
        ì¤‘ì‹¬ì§€ ìœ í˜• ë¶„ë¥˜
    </h2>
    <p style="font-size: 16px; color: #555;">
        êµ­í† ê³µê°„ê±°ì ì§€ë„ì—ì„œ ì¤‘ì‹¬ì§€ ìœ í˜•ì€ <strong>ì¤‘ì‹¬ì§€â… , ì¤‘ì‹¬ì§€â…¡, ì¤‘ì‹¬ì§€â…¢-1, ì¤‘ì‹¬ì§€â…¢-2</strong>ìœ¼ë¡œ êµ¬ë¶„ë©ë‹ˆë‹¤.
    </p>

    <!-- ì•„ì´ì½˜ + í…ìŠ¤íŠ¸ ì• ë‹ˆë©”ì´ì…˜ ê·¸ë¦¬ë“œ -->
    <style>
        .center-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 40px;
            margin: 60px auto;
            max-width: 1000px;
            padding: 0 20px;
        }
        .center-item {
            border-top: 1.3px solid #eeeeeec7;
            border-bottom: 1.3px solid #eeeeeee7;
            padding: 28px 0;
            text-align: center;
            transition: all 0.6s ease;
            opacity: 0;
            transform: translateY(40px);
        }
        .center-item.show {
            opacity: 1;
            transform: translateY(0);
        }
        .center-icon {
            font-size: 48px;
            margin-bottom: 16px;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
        }
        .center-title {
            font-weight: 600;
            font-size: 17px;
            margin-bottom: 4px;
        }
        .center-sub {
            font-size: 14px;
            color: #888;
            margin-bottom: 10px;
        }
        .center-desc {
            font-size: 15px;
            color: #555;
            line-height: 1.5;
        }
    </style>

    <div class="center-grid">
        <div class="center-item" style="transition-delay: 0.1s;">
            <span class="material-icons center-icon" style="color: #FF6B6B;">location_city</span>
            <div class="center-title">ì¤‘ì‹¬ì§€ â… </div>
            <div class="center-sub">ê±°ì , ë„ì‹¬</div>
            <div class="center-desc">ê±°ì£¼Â·ê·¼ë¬´ì¸êµ¬ ë°€ë„ ë†’ê³ <br />í†µê·¼ ì¤‘ì‹¬ì„± ê°•í•¨</div>
        </div>
        <div class="center-item" style="transition-delay: 0.3s;">
            <span class="material-icons center-icon" style="color: #FF85C1;">apartment</span>
            <div class="center-title">ì¤‘ì‹¬ì§€ â…¡</div>
            <div class="center-sub">ì¤€ê±°ì , ë¶€ì‹¬</div>
            <div class="center-desc">ì¤‘ë°€ì˜ ì¸êµ¬ êµ¬ì¡° ë°<br />í†µê·¼ ì¤‘ì‹¬ì„±</div>
        </div>
        <div class="center-item" style="transition-delay: 0.5s;">
            <span class="material-icons center-icon" style="color: #4DDBC3;">engineering</span>
            <div class="center-title">ì¤‘ì‹¬ì§€ â…¢-1</div>
            <div class="center-sub">ì¼ìë¦¬ê±°ì </div>
            <div class="center-desc">ê·¼ë¬´ì¸êµ¬ ì¤‘ì‹¬ì˜<br />ê³ ìš© ì§‘ì ì§€</div>
        </div>
        <div class="center-item" style="transition-delay: 0.7s;">
            <span class="material-icons center-icon" style="color: #5C9EFF;">local_hospital</span>
            <div class="center-title">ì¤‘ì‹¬ì§€ â…¢-2</div>
            <div class="center-sub">ê¸°ì´ˆìƒí™œê±°ì </div>
            <div class="center-desc">ê³µê³µì„œë¹„ìŠ¤ ì ‘ê·¼ì„± ë†’ê³ <br />ê±°ì£¼ì¸êµ¬ ê·œëª¨ í¼</div>
        </div>
    </div>

    <!-- IntersectionObserverë¥¼ ì´ìš©í•˜ì—¬ ìŠ¤í¬ë¡¤ ì‹œ ì• ë‹ˆë©”ì´ì…˜ íŠ¸ë¦¬ê±° -->
    <script>
        const observer = new IntersectionObserver(
            (entries) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('show');
                    } else {
                        entry.target.classList.remove('show');
                    }
                });
            },
            { threshold: 0.1 }
        );
        document.querySelectorAll('.center-item').forEach((el) => observer.observe(el));
    </script>

    <p style="font-size: 16px; color: #555;">
        ì•„ë˜ í† ê¸€ì„ ëˆŒëŸ¬ ì„¸ë¶€ì ì¸ ì¤‘ì‹¬ì§€ ìœ í˜•ë³„ ê¸°ì¤€ê³¼ í•µì‹¬ ì§€í‘œì˜ ë°ì´í„° ì¶œì²˜ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”.
    </p>

    <!-- ============================
         ì„¸ë¶€ ê¸°ì¤€ ë° ë°ì´í„° ì¶œì²˜ ë³´ê¸° í† ê¸€
       ============================ -->
    <div
      id="customToggle"
      style="display: flex; align-items: center; gap: 8px; cursor: pointer; font-size: 16px; color: #555; margin: 30px auto; user-select: none; width: fit-content;"
    >
        <span id="toggleIcon">â–¶</span>
        <span>ì„¸ë¶€ ê¸°ì¤€ ë° ë°ì´í„° ì¶œì²˜ ë³´ê¸°</span>
    </div>

    <!-- ìˆ¨ê²¨ì§„ í† ê¸€ ì½˜í…ì¸  (í‘œ) -->
    <div
      id="toggleContent"
      style="
        display: none;
        margin: 30px auto;
        padding: 30px 40px;
        background: #ffffff;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        max-width: 1000px;
        text-align: left;
      "
    >
        <!-- ì¤‘ì‹¬ì§€ ìœ í˜•ë³„ ê¸°ì¤€ í‘œ -->
        <h3 style="font-size: 20px; margin-top: 30px; color: #333; text-align: left;">
            ì¤‘ì‹¬ì§€ ìœ í˜•ë³„ ê¸°ì¤€
        </h3>
        <div style="margin-top: 20px; overflow-x: auto;">
            <table
              style="width: 100%; min-width: 700px; border-collapse: collapse; font-size: 14px; text-align: center;"
            >
                <thead>
                    <tr style="background-color: #f5f7fa;">
                        <th style="border: 1px solid #ddd; padding: 12px;">ì¤‘ì‹¬ì§€ ìœ í˜•</th>
                        <th style="border: 1px solid #ddd; padding: 12px;">ê±°ì£¼ì¸êµ¬ ë°€ë„ (ëª…/ã¢)</th>
                        <th style="border: 1px solid #ddd; padding: 12px;">ê·¼ë¬´ì¸êµ¬ ë°€ë„ (ëª…/ã¢)</th>
                        <th style="border: 1px solid #ddd; padding: 12px;">ìœ ì… ì¤‘ì‹¬ì„± ì§€ìˆ˜</th>
                        <th style="border: 1px solid #ddd; padding: 12px;">ìœ ì¶œ ì¤‘ì‹¬ì„± ì§€ìˆ˜</th>
                        <th style="border: 1px solid #ddd; padding: 12px;">ê³µê³µì„œë¹„ìŠ¤ ì ‘ê·¼ì„± (ë°˜ê²½ km)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="border: 1px solid #ddd; padding: 12px;">ì¤‘ì‹¬ì§€ I</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">â‰¥ 1,500</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">â‰¥ 900</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">â‰¥ 0.035</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">â‰¥ 0.03</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">-</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #ddd; padding: 12px;">ì¤‘ì‹¬ì§€ II</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">â‰¥ 300</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">â‰¥ 150</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">â‰¥ 0.035</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">â‰¥ 0.03</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">-</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #ddd; padding: 12px;">ì¤‘ì‹¬ì§€ III-1</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">-</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">â‰¥ 150</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">-</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">-</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">-</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #ddd; padding: 12px;">ì¤‘ì‹¬ì§€ III-2</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">â‰¥ 150</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">-</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">-</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">-</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">â‰¤ 1.5</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <p style="font-size: 14px; color: #666; margin-top: 10px; text-align: left;">
            â€» ìœ ì… ì¤‘ì‹¬ì„± â‰¥ 0.035, ìœ ì¶œ ì¤‘ì‹¬ì„± â‰¥ 0.03ì€ ì „êµ­ 1km ê²©ì ê¸°ì¤€ ìƒìœ„ 20% ìˆ˜ì¤€<br />
            â€» UN ë„ì‹œêµ¬ë¶„ ê¸°ì¤€ì„ ì°¸ê³ í•˜ì—¬ ì¸êµ¬ë°€ë„ 1,500ëª…/ã¢, 300ëª…/ã¢, 150ëª…/ã¢ ê¸°ì¤€ í™œìš©
        </p>

        <!-- í•µì‹¬ ì§€í‘œ ë°ì´í„° ì¶œì²˜ í‘œ -->
        <h3 style="font-size: 20px; margin-top: 30px; color: #333; text-align: left;">
            í•µì‹¬ ì§€í‘œ ë°ì´í„° ì¶œì²˜
        </h3>
        <div style="margin-top: 20px; overflow-x: auto;">
            <table
              style="width: 100%; min-width: 700px; border-collapse: collapse; font-size: 14px; text-align: center;"
            >
                <thead>
                    <tr style="background-color: #f5f7fa;">
                        <th style="border: 1px solid #ddd; padding: 12px;">í•µì‹¬ ì§€í‘œ</th>
                        <th style="border: 1px solid #ddd; padding: 12px;">ê³µê°„ ë‹¨ìœ„</th>
                        <th style="border: 1px solid #ddd; padding: 12px;">ë°ì´í„°ì…‹</th>
                        <th style="border: 1px solid #ddd; padding: 12px;">ê¸°ì¤€ì—°ë„</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="border: 1px solid #ddd; padding: 12px;">ê±°ì£¼ì¸êµ¬ ë°€ë„</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">1km x 1km ê²©ì</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">í†µê³„ì²­ í†µê³„ì§€ë¦¬ì •ë³´ì„œë¹„ìŠ¤(SGIS) ê²©ìë‹¨ìœ„ ì¸êµ¬</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">2022ë…„, 2021ë…„</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #ddd; padding: 12px;">ê·¼ë¬´ì¸êµ¬ ë°€ë„</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">1km x 1km ê²©ì</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">KCB ì§ì¥ì£¼ì†Œì§€ ê¸°ì¤€ ì¸êµ¬</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">2023ë…„, 2021ë…„</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #ddd; padding: 12px;">ìœ ì…, ìœ ì¶œ ì¤‘ì‹¬ì„± ì§€ìˆ˜</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">1km x 1km ê²©ì</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">KCB ìíƒì£¼ì†Œì§€-ì§ì¥ì£¼ì†Œì§€ í–‰ë ¬</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">2023ë…„, 2021ë…„</td>
                    </tr>
                    <tr>
                        <td style="border: 1px solid #ddd; padding: 12px;">ê³µê³µì„œë¹„ìŠ¤ì‹œì„¤ ì ‘ê·¼ì„±</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">1km x 1km ê²©ì</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">ê´€ê³µì„œ, ë³´ê±´ì˜ë£Œê¸°ê´€, ì´ˆë“±í•™êµ, ê²½ì°°ì„œ POI ë°ì´í„°</td>
                        <td style="border: 1px solid #ddd; padding: 12px;">2024ë…„, 2023ë…„, 2022ë…„, 2021ë…„</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- í† ê¸€ ë²„íŠ¼ í´ë¦­ ì‹œ ì½˜í…ì¸  ì—´ê³  ë‹«ëŠ” ìŠ¤í¬ë¦½íŠ¸ -->
    <script>
        document.getElementById('customToggle').addEventListener('click', () => {
            const content = document.getElementById('toggleContent');
            const icon = document.getElementById('toggleIcon');
            const isVisible = content.style.display === 'block';
            content.style.display = isVisible ? 'none' : 'block';
            icon.textContent = isVisible ? 'â–¶' : 'â–¼';
        });
    </script>

    <hr class="divider" />

    <!-- ============================
         ë²”ë¡€ ë°” (ì¤‘ì‹¬ì§€ ìœ í˜• ìƒ‰ìƒ + ë¶ˆíˆ¬ëª…ë„ ìŠ¬ë¼ì´ë”)
       ============================ -->
    <div class="legend-bar">
        <!-- ìƒ‰ìƒë³„ ë²”ë¡€ -->
        <div class="legend-items">
            <div><span style="background: #b2df8a;"></span> ì£¼ë³€ë¶€</div>
            <div><span style="background: #e31a1c;"></span> ì¤‘ì‹¬ì§€ I</div>
            <div><span style="background: #f032ea;"></span> ì¤‘ì‹¬ì§€ II</div>
            <div><span style="background: #4acad1;"></span> ì¤‘ì‹¬ì§€ III-1</div>
            <div><span style="background: #2b25e1;"></span> ì¤‘ì‹¬ì§€ III-2</div>
        </div>
        <!-- ë¶ˆíˆ¬ëª…ë„ ì¡°ì ˆ ìŠ¬ë¼ì´ë” -->
        <div class="opacity-control">
            <label for="opacitySlider" style="font-size: 14px;">íƒ€ì¼ ë¶ˆíˆ¬ëª…ë„</label>
            <input type="range" id="opacitySlider" min="0" max="1" step="0.01" value="0.6" />
            <span id="opacityValue">100%</span>
        </div>
    </div>

    <!-- ============================
         ì§€ë„ë¥¼ ë³´ì—¬ì¤„ ì„¹ì…˜
       ============================ -->
    <section>
        <!-- ì§€ë„ ì»¨í…Œì´ë„ˆ + ê³ ì • ë¼ë²¨ -->
        <div id="map">
            <div class="map-label label-left">2021ë…„ êµ­í† ê³µê°„ê±°ì ì§€ë„</div>
            <div class="map-label label-right">2023ë…„ êµ­í† ê³µê°„ê±°ì ì§€ë„</div>
        </div>

        <!-- ëª©í‘œ/ì„¤ëª… í…ìŠ¤íŠ¸ -->
        <div style="text-align: center; margin-top: 40px;">
            <div
              style="font-size: 28px; font-weight: bold; color: #333; display: flex; justify-content: center; align-items: center; gap: 8px;"
            >
                <span class="material-icons" style="font-size: 32px; color: #4CAF50;">place</span>
                ëŒ€ìƒì§€ì—­ ì„¤ì •
            </div>
            <div style="margin-top: 10px; font-size: 18px; color: #666;">
                ëŒ€ìƒì§€ì—­ì„ ì„¤ì •í•˜ì—¬ í•´ë‹¹ ìœ„ì¹˜ë¡œ ì¤Œì¸í•˜ê³  ì¤‘ì‹¬ì§€ ìœ í˜•ì´ ì–´ë–»ê²Œ ë°”ë€Œì—ˆëŠ”ì§€ íƒìƒ‰í•˜ì„¸ìš”.
            </div>
        </div>

        <!-- ì‹œë„/ì‹œêµ°êµ¬ ì„ íƒ + ë²„íŠ¼ -->
        <div
          style="display: flex; justify-content: center; align-items: center; gap: 12px; margin-top: 30px; margin-bottom: 50px; flex-wrap: wrap;"
        >
            <label for="sidoSelect" style="font-size: 16px;">ì‹œë„ ì„ íƒ:</label>
            <select
              id="sidoSelect"
              style="padding: 8px 12px; border: 1px solid #ccc; border-radius: 6px; font-size: 16px; min-width: 160px;"
            ></select>

            <label for="sggSelect" style="font-size: 16px;">ì‹œêµ°êµ¬ ì„ íƒ:</label>
            <select
              id="sggSelect"
              style="padding: 8px 12px; border: 1px solid #ccc; border-radius: 6px; font-size: 16px; min-width: 160px;"
            ></select>

            <button
              id="searchBtn"
              style="padding: 8px 20px; background-color: #4CAF50; color: white; border: none; border-radius: 6px; font-size: 16px; font-weight: bold; cursor: pointer;"
            >
                í™•ì¸í•˜ê¸°
            </button>

            <button
              id="analysisBtn"
              style="padding: 8px 20px; background-color: #666; color: white; border: none; border-radius: 6px; font-size: 16px; font-weight: bold; cursor: pointer;"
            >
                ë¶„ì„ê¸°ì¤€
            </button>
        </div>


        <!-- íƒ­ì„ ìœ„ë¡œ ì˜¬ë¦¼ -->
 
        <div class="tab-content-wrap">
            <div id="base" class="content active">...</div>
            <div id="expanded" class="content">...</div>
            <div class="tabs tabs-bottom">
                <div class="tab active" data-target="base">ê¸°ë³¸ í…Œì´ë¸”</div>
                <div class="tab" data-target="expanded">í™•ì¥ í…Œì´ë¸”</div>
            </div>
        </div>

        <!-- â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
            íƒ­ ì „í™˜ìš© JS
        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <script>
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // 1) ëª¨ë“  íƒ­ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
                    tabs.forEach(t => t.classList.remove('active'));
                    // 2) í´ë¦­ëœ íƒ­ì—ë§Œ active ë¶€ì—¬
                    tab.classList.add('active');
                    // 3) ëª¨ë“  ì½˜í…ì¸  ì˜ì—­ ìˆ¨ê¸°ê¸°
                    document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
                    // 4) í´ë¦­í•œ íƒ­ì˜ data-target ê°’ì— í•´ë‹¹í•˜ëŠ” ì½˜í…ì¸ ë§Œ ë³´ì´ê¸°
                    const targetId = tab.getAttribute('data-target');
                    document.getElementById(targetId).classList.add('active');
                });
            });
        </script>

        <!-- ì•ˆë‚´ í…ìŠ¤íŠ¸ -->
        <div id="handNote" class="hand-note">
            <span class="blink-text">
                ì–´ë–¤ ì¤‘ì‹¬ì§€ ìœ í˜•ì—ì„œ ì–´ë–¤ ì¤‘ì‹¬ì§€ ìœ í˜•ìœ¼ë¡œ ë³€í–ˆëŠ”ì§€<br>
                <span style="color: #4CAF50;">í™•ì¥ í…Œì´ë¸”</span> íƒ­ì„ ëˆŒëŸ¬ ì„¸ë¶€ì ì¸ ë³€í™”ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”!
            </span>
            </span>
        </div>
        </div>

    </section>

    <!-- ============================
         ì§€ë„ ì´ˆê¸°í™” ë° ë ˆì´ì–´ ì¶”ê°€ ìŠ¤í¬ë¦½íŠ¸
       ============================ -->
    <script>
        // 1) Leaflet ì§€ë„ ì´ˆê¸°í™”
        var map = L.map('map', {
            zoomControl: false, // ê¸°ë³¸ zoom control ë¹„í™œì„±í™”
            maxZoom: 12
        }).setView([37.5665, 126.9780], 7);

        // 2) ìš°ì¸¡ í•˜ë‹¨ì— zoom control ì¶”ê°€
        L.control.zoom({ position: 'bottomright' }).addTo(map);

        // 3) OSM ê¸°ë³¸ ë² ì´ìŠ¤ ë ˆì´ì–´
        var osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; OpenStreetMap contributors',
            maxZoom: 19
        }).addTo(map);

        // 4) 2021ë…„, 2023ë…„ íƒ€ì¼ ë ˆì´ì–´ ìƒì„± ë° ì§€ë„ì— ì¶”ê°€
        var layer2021 = L.tileLayer('./map_21/Mapnik/{z}/{x}/{y}.png', {
            attribution: 'êµ­í† ê³µê°„ê±°ì ì§€ë„ 2021',
            minZoom: 7,
            maxZoom: 12
        }).addTo(map);

        var layer2023 = L.tileLayer('./map_23/Mapnik/{z}/{x}/{y}.png', {
            attribution: 'êµ­í† ê³µê°„ê±°ì ì§€ë„ 2023',
            minZoom: 7,
            maxZoom: 12
        }).addTo(map);

        // 5) Side-by-Side ì»¨íŠ¸ë¡¤ í™œì„±í™” (ìŠ¬ë¼ì´ë” ë¹„êµ)
        L.control.sideBySide(layer2021, layer2023).addTo(map);

        // 6) ë¶ˆíˆ¬ëª…ë„ ì¡°ì ˆ ìŠ¬ë¼ì´ë” ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        document.getElementById('opacitySlider').addEventListener('input', function () {
            const opacity = parseFloat(this.value);
            layer2021.setOpacity(opacity);
            layer2023.setOpacity(opacity);
            document.getElementById('opacityValue').textContent = Math.round(opacity * 100) + '%';
        });

        // 7) ì´ˆê¸° ë¶ˆíˆ¬ëª…ë„ ê°’ ì„¤ì • (60% ë¶ˆíˆ¬ëª…ë„)
        layer2021.setOpacity(0.6);
        layer2023.setOpacity(0.6);
        document.getElementById('opacityValue').textContent = '60%';
    </script>

    <!-- ============================
         ê°•ì¡°/í•˜ì´ë¼ì´íŠ¸ ë¡œì§ (GeoJSON ë¡œë“œ ë° í•¨ìˆ˜) 
         â†’ change_highlight.js
       ============================ -->
    <script src="change_highlight_v2.js"></script>

    <!-- ============================
         ì§€ì—­ ì„ íƒ ë° í†µê³„ í…Œì´ë¸” ìƒì„± ë¡œì§ 
         â†’ region_control.js
       ============================ -->
    <script src="region_control_v2.js"></script>

    <!-- ğŸ‘‡ IntersectionObserverë¡œ handNote ë“±ì¥ íš¨ê³¼ (ì—¬ê¸°ë‹¤ê°€ ë„£ìœ¼ì„¸ìš”!) -->
    <script>
    // hand-note ë“±ì¥/ê¹œë¹¡ì„ íš¨ê³¼
    const handNote = document.getElementById('handNote');
    if (handNote) {
        const obs = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
            if (entry.isIntersecting) {
            handNote.classList.add('active');
            setTimeout(() => handNote.classList.remove('active'), 2200);
            }
        });
        }, { threshold: 0.3 });
        obs.observe(handNote);
    }
    </script>


    <hr class="divider" />

    <!-- ë§ˆë¬´ë¦¬ ë©˜íŠ¸ + íšŒê·€ ë²„íŠ¼ (ìƒë‹¨ ë¶„ìœ„ê¸° í†µì¼) -->
    <div id="finalCallToAction" class="appear-bottom" style="max-width: 900px; margin: 60px auto 35px auto; text-align: center;">
        <div style="font-size: 16px; color: #444; margin-bottom: 22px; line-height: 1.8;">
            ë” ë‹¤ì–‘í•œ ì£¼ì œì™€ ë¶„ì„ì´ ê¶ê¸ˆí•˜ì‹ ê°€ìš”?<br>
            ì•„ë˜ì˜ ì¸í„°ë™í‹°ë¸Œ ë¦¬í¬íŠ¸ í˜ì´ì§€ì—ì„œ íƒìƒ‰í•´ë³´ì„¸ìš”.
        </div>
        <a href="https://interactive.krihs.re.kr/interactive/" target="_blank"
            style="display: inline-flex; align-items: center; gap: 8px; background: #4CAF50; color: #fff;
                    font-size: 16px; font-weight: 500; padding: 13px 34px; border-radius: 8px;
                    text-decoration: none; box-shadow: 0 2px 6px rgba(76,175,80,0.08); transition: background 0.2s;">
            <span class="material-icons" style="font-size: 22px;">travel_explore</span>
            ì¸í„°ë™í‹°ë¸Œ ë¦¬í¬íŠ¸ë¡œ ì´ë™
        </a>
    </div>

        <!-- 3. ìŠ¤í¬ë¦½íŠ¸ (ë§¨ ì•„ë˜ì— ë‘ë©´ ì œì¼ ì•ˆì „) -->
    <script>
        const target = document.getElementById('finalCallToAction');

        function checkIfBottom() {
            const scrollPos = window.scrollY + window.innerHeight;
            const docHeight = document.documentElement.scrollHeight;
            if (Math.abs(scrollPos - docHeight) < 2) { // 2px ì´ë‚´ë©´ ì§„ì§œ ë°”ë‹¥
                target.classList.add('show');
            } else {
                target.classList.remove('show');
            }
        }

        window.addEventListener('scroll', checkIfBottom);
        window.addEventListener('resize', checkIfBottom);

        // í˜ì´ì§€ ì²˜ìŒ ë¡œë“œ ì‹œì—ë„ ì²´í¬
        checkIfBottom();
    </script>

    <!-- ============================
         í‘¸í„° (ê¸°ê´€ ì •ë³´ ë“±)
       ============================ -->
    <footer style="margin-top: 80px; padding: 40px 20px; border-top: 1px solid #ddd; font-size: 14px; color: #333;">
        <div style="max-width: 1000px; margin: auto; text-align: center;">
            <!-- ê¸°ê´€ ì •ë³´ -->
            <p style="font-weight: 600; margin-bottom: 6px;">
                KRIHS ì¸í„°ë™í‹°ë¸Œ ë¦¬í¬íŠ¸: êµ­í† ê³µê°„ê±°ì ì§€ë„ ë³€í™” ë³´ê¸°
            </p>
            <p style="color: #888; margin: 0 0 16px;">
                (30147) ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ êµ­ì±…ì—°êµ¬ì›ë¡œ 5 (ë°˜ê³¡ë™)<br />
                CopyrightÂ© Korea Research Institute for Human Settlements. ALL RIGHTS RESERVED.
            </p>

            <!-- ì‘ì„±ì/ë¬¸ì˜ì²˜ -->
            <p style="margin: 0 0 2px;">
                â–ªï¸ ì‘ì„± ë° ë¬¸ì˜: êµ­í† ì—°êµ¬ì› êµ­í† ëª¨ë‹ˆí„°ë§ì—°êµ¬ì„¼í„°
            </p>
            <p style="margin: 0;">â–ªï¸ ì‘ì„±ì—°ì›”: 2025ë…„ 6ì›”</p>
        </div>
    </footer>
</body>
</html>
